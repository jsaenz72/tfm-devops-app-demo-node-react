FROM node:18-alpine
WORKDIR /app
# Actualizamos paquetes del sistema para eliminar CVEs conocidos 
RUN apk update && apk upgrade --no-cache
# Copiamos package.json y lockfile
COPY package*.json ./
# Instalamos TODAS las dependencias (incluyendo dev)
RUN npm ci
# Copiamos el resto del c√≥digo
COPY . .
# Exponemos el puerto de desarrollo
EXPOSE 3030
# Hot-reload con nodemon
CMD ["./init-data.sh"]
